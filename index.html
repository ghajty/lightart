<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>貓貓燈具</title>

<style>
body {margin:0; font-family:Arial,sans-serif; background:#f5f5f5; color:#333;}
header{background:#fff; display:flex; align-items:center; justify-content:flex-start; padding:10px 20px; border-bottom:1px solid #ddd; position:fixed; top:0; left:0; width:100%; z-index:1000;}
header img{width:50px;height:50px;border-radius:50%; margin-right:15px;}
header h1{margin:0 30px 0 0; font-size:1.6em; color:#333;}

header .top-buttons {
    display:flex;
    gap:10px;
}

header .top-buttons button{
    padding:6px 12px;
    border:none;
    border-radius:5px;
    background:#333;
    color:#fff;
    cursor:pointer;
}
header .top-buttons button:hover{background:#555;}

.container{max-width:1000px; margin:100px auto 40px; padding:0 20px;}

#categoryToggle{cursor:pointer; background:#333; color:#fff; padding:8px; border-radius:5px; width:140px; text-align:center; margin:10px 0;}
#categoryList{display:none; flex-wrap:wrap; gap:5px; margin-bottom:10px;}
#categoryList button{padding:5px 10px; background:#666; border:none; color:#fff; border-radius:5px;}
#categoryList button.active{background:#333;}

.products{display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:20px;}
.product-card{background:#fff; border-radius:10px; padding:15px; text-align:center; box-shadow:0 1px 3px rgba(0,0,0,0.1);}
.product-card img{width:100%; height:180px; object-fit:cover; border-radius:5px;}
.product-card button{padding:5px 10px; background:#333; border:none; border-radius:5px; color:#fff; cursor:pointer;}

.side-panel{
    position:fixed; top:0; right:-350px;
    width:320px; height:100%;
    background:#fff; padding:20px; overflow-y:auto;
    border-left:1px solid #ddd; transition:0.3s;
    z-index:900;
}

.side-panel.show{ right:0; }

.overlay{
    display:none; position:fixed; top:0; left:0;
    width:100%; height:100%;
    background:rgba(0,0,0,0.3);
    z-index:800;
}

.close-btn{
    margin-top:10px; padding:8px 10px;
    background:#333; color:#fff; border:none;
    border-radius:5px; cursor:pointer;
}
</style>
</head>

<body>

<header>
<img src="https://placekitten.com/80/80">
<h1>貓貓燈具</h1>

<div class="top-buttons">
<button id="introBtn">公司簡介</button>
<button id="historyBtn">交易歷史</button>
<button id="contactBtn">客服</button>
</div>
</header>

<div class="container">

<!-- 商品分類 -->
<div id="categoryToggle">顯示分類 ▼</div>
<div id="categoryList"></div>

<!-- 商品列表 -->
<div id="productList" class="products"></div>

</div>

<!-- 三個側欄 -->
<div id="introSide" class="side-panel">
<h2>公司簡介</h2>
<p>貓貓燈具提供吊燈、軌道燈、壁燈、吸頂燈與專業燈光設計，打造最佳空間氛圍。</p>
<button class="close-btn" onclick="closeAll()">關閉</button>
</div>

<div id="historySide" class="side-panel">
<h2>交易歷史</h2>
<ul id="historyListSide"></ul>
<button class="close-btn" onclick="closeAll()">關閉</button>
</div>

<div id="contactSide" class="side-panel">
<h2>客服</h2>
<p>Email: support@catlamp.com</p>
<p>LINE: @catlamp</p>
<p>電話: 02-1234-5678</p>
<button class="close-btn" onclick="closeAll()">關閉</button>
</div>

<!-- 購物車側欄 -->
<div id="cartSide" class="side-panel"></div>

<div id="overlay" class="overlay" onclick="closeAll()"></div>

<script>
/* ----------------- 商品資料 ----------------- */
const products=[
 {id:1,name:"現代吊燈A",category:"吊燈",price:2500,img:"https://placekitten.com/300/180"},
 {id:2,name:"復古壁燈B",category:"壁燈",price:1200,img:"https://placekitten.com/301/180"},
 {id:3,name:"吸頂燈C",category:"吸頂燈",price:1800,img:"https://placekitten.com/302/180"},
 {id:4,name:"投射燈D",category:"投射燈",price:900,img:"https://placekitten.com/303/180"},
 {id:5,name:"燈條E",category:"燈條",price:600,img:"https://placekitten.com/304/180"},
 {id:6,name:"軌道燈F",category:"軌道燈",price:1500,img:"https://placekitten.com/305/180"}
];

let cart=[];
let categories=["全部商品","吊燈","壁燈","吸頂燈","投射燈","燈條","軌道燈"];

/* ----------------- 渲染分類 ----------------- */
const categoryList=document.getElementById("categoryList");
categories.forEach(cat=>{
    let btn=document.createElement("button");
    btn.textContent=cat;
    btn.onclick=()=>{
        document.querySelectorAll("#categoryList button").forEach(b=>b.classList.remove("active"));
        btn.classList.add("active");
        renderProducts(cat);
    };
    if(cat==="全部商品") btn.classList.add("active");
    categoryList.appendChild(btn);
});

/* ----------------- 顯示/隱藏分類 ----------------- */
document.getElementById("categoryToggle").onclick=()=>{
    if(categoryList.style.display==="flex"){
        categoryList.style.display="none";
        document.getElementById("categoryToggle").textContent="顯示分類 ▼";
    }else{
        categoryList.style.display="flex";
        document.getElementById("categoryToggle").textContent="隱藏分類 ▲";
    }
};

/* ----------------- 渲染商品 ----------------- */
function renderProducts(type="全部商品"){
    const list=document.getElementById("productList");
    list.innerHTML="";
    const filtered=(type==="全部商品")?products:products.filter(p=>p.category===type);

    filtered.forEach(p=>{
        let div=document.createElement("div");
        div.className="product-card";
        div.innerHTML=`
        <img src="${p.img}">
        <h3>${p.name}</h3>
        <p>價格：$${p.price}</p>
        <button onclick="addToCart(${p.id})">加入購物車</button>
        `;
        list.appendChild(div);
    });
}
renderProducts();

/* ----------------- 購物車 ----------------- */
function addToCart(id){
    let item=cart.find(p=>p.id===id);
    if(item){item.qty++;}else{
        cart.push({...products.find(p=>p.id===id), qty:1});
    }
    openCart();
}

function openCart(){
    const side=document.getElementById("cartSide");
    side.innerHTML=`<h2>購物車</h2>`;

    if(cart.length===0){
        side.innerHTML+=`<p>購物車是空的</p>`;
    } else {
        cart.forEach((item,i)=>{
            side.innerHTML+=`
                <div>
                    ${item.name} x ${item.qty} - $${item.price * item.qty}
                    <br>
                    <button onclick="changeQty(${i}, -1)">-</button>
                    <button onclick="changeQty(${i}, 1)">+</button>
                    <button onclick="removeItem(${i})">刪除</button>
                    <hr>
                </div>
            `;
        });
    }

    side.classList.add("show");
    document.getElementById("overlay").style.display="block";
}

function changeQty(i,delta){
    cart[i].qty+=delta;
    if(cart[i].qty<=0) cart[i].qty=1;
    openCart();
}
function removeItem(i){
    cart.splice(i,1);
    openCart();
}

/* ----------------- 三大按鈕側欄 ----------------- */
document.getElementById("introBtn").onclick=()=>openSide("introSide");
document.getElementById("historyBtn").onclick=()=>openSide("historySide");
document.getElementById("contactBtn").onclick=()=>openSide("contactSide");

function openSide(id){
    closeAll();
    document.getElementById(id).classList.add("show");
    document.getElementById("overlay").style.display="block";
}

function closeAll(){
    document.querySelectorAll(".side-panel").forEach(p=>p.classList.remove("show"));
    document.getElementById("overlay").style.display="none";
}
</script>

</body>
</html>
